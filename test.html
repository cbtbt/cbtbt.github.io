<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¥ç”Ÿæ—¥å¿«ä¹ç¾ç²å®å®</title>
    <style>
        body {
            font-family: "Microsoft YaHei", sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .title {
            color: #e91e63;
            font-size: 26px;
            margin-bottom: 20px;
        }
        .btn-group {
            display: flex;
            gap: 15px;
        }
        .btn {
            background-color: #e91e63;
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 18px;
            padding: 10px 20px;
            cursor: pointer;
            transition: transform 0.3s, opacity 0.3s;
        }
        .btn:hover {
            transform: scale(1.05);
            opacity: 0.9;
        }
        .btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        .popup {
            position: fixed;
            width: 220px;
            height: 100px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            animation: popIn 0.3s ease-out;
            padding: 10px;
            box-sizing: border-box;
        }
        @keyframes popIn {
            from {
                transform: scale(0);
            }
            to {
                transform: scale(1);
            }
        }
        .popup .close {
            position: absolute;
            top: 5px;
            right: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            color: #333;
        }
        .popup .content {
            text-align: center;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h1 class="title">ç”Ÿæ—¥å¿«ä¹ç¾ç¾å®å®</h1>
    <div class="btn-group">
        <button id="startBtn" class="btn">ç‚¹è¿™é‡Œæœ‰æœ¬å®å®çš„çˆ±å“Ÿâ¤ï¸</button>
        <button id="closeAllBtn" class="btn">æ”¶ä¸‹å•¦â¤ï¸</button>
    </div>

    <script>
        const startBtn = document.getElementById('startBtn');
        const closeAllBtn = document.getElementById('closeAllBtn');
        const bgColors = [
            '#ffc0cb', '#ffb6c1', '#ff69b4', '#ff1493', '#db7093', 
            '#bc8f8f', '#c71585', '#ffa07a', '#ff7f50', '#ffa500', 
            '#ffffe0', '#ebe6fa', '#d8bfd8', '#dda0dd', '#eeB2ee'
        ];
        const commonWishes = [
            'äº²çˆ±çš„å®å®ç”Ÿæ—¥å¿«ä¹â¤ï¸', 'æ¯å¤©éƒ½æœ‰å¥½å¿ƒæƒ…ğŸ©·', 'æˆä¸ºæˆ‘æœ€å¹¸ç¦çš„å®å®ğŸ«¡', 
            'ä¸–ç•Œä¸Šæœ€å¯çˆ±çš„äººğŸ˜œ', 'æ¯å¤©éƒ½å¯ä»¥åƒåˆ°å¥½åƒçš„ğŸ˜', 'åœ¨å·¥ä½œä¸Šæ¯å¤©éƒ½è½»æ¾ğŸ‰', 
            'æ¯å¤©éƒ½æƒ³è§åˆ°ä½ ğŸ¥°', 'æœ‰ä¸€ä¸ªå¥åº·çš„èº«ä½“ğŸ˜˜', 'æ¯å¤©æˆ‘éƒ½è¶…çº§çˆ±ä½ ğŸ˜', 
            'ä¹Ÿè¦ä¸€ç›´å–œæ¬¢æˆ‘ğŸ«¶ğŸ»ï¼'
        ];
        let specialWishShown = false;

        startBtn.addEventListener('click', () => {
            startBtn.disabled = true;
            let count = 0;
            const interval = setInterval(() => {
                if (count >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        startBtn.disabled = false;
                    }, 5000);
                    return;
                }
                createPopup();
                count++;
            }, 50);
        });

        closeAllBtn.addEventListener('click', () => {
            const popups = document.querySelectorAll('.popup');
            popups.forEach(popup => popup.remove());
            specialWishShown = false;
            startBtn.disabled = false;
        });

        function createPopup() {
            const popup = document.createElement('div');
            popup.className = 'popup';
            popup.style.backgroundColor = bgColors[Math.floor(Math.random() * bgColors.length)];
            
            const closeBtn = document.createElement('div');
            closeBtn.className = 'close';
            closeBtn.textContent = 'x';
            closeBtn.addEventListener('click', () => {
                popup.remove();
            });

            const content = document.createElement('div');
            content.className = 'content';
            let wish;
            if (!specialWishShown && Math.random() < 0.1) {
                wish = 'æˆ‘çš„å¿ƒé‡Œåªæœ‰ä½ ğŸ˜˜ï¼';
                specialWishShown = true;
            } else {
                wish = commonWishes[Math.floor(Math.random() * commonWishes.length)];
            }
            content.textContent = wish;

            popup.appendChild(closeBtn);
            popup.appendChild(content);

            const maxLeft = window.innerWidth - 220;
            const maxTop = window.innerHeight - 100;
            popup.style.left = `${Math.floor(Math.random() * maxLeft)}px`;
            popup.style.top = `${Math.floor(Math.random() * maxTop)}px`;

            document.body.appendChild(popup);
        }
    </script>
</body>
</html>